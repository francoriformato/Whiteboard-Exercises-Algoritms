<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1894.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #140d0c; -webkit-text-stroke: #140d0c}
    p.p2 {margin: 0.0px 0.0px 12.0px 0.0px; text-align: center; font: 16.0px Times; color: #140d0c; -webkit-text-stroke: #140d0c}
    p.p3 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #54000c; -webkit-text-stroke: #54000c}
    p.p4 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #2a002b; -webkit-text-stroke: #2a002b}
    p.p5 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #000000; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #2a313c; -webkit-text-stroke: #2a313c}
    p.p7 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Menlo; color: #37404d; -webkit-text-stroke: #37404d}
    p.p8 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #282828; -webkit-text-stroke: #14171c}
    p.p9 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #14171c; -webkit-text-stroke: #14171c}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #54000c; -webkit-text-stroke: #54000c}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #000000; -webkit-text-stroke: #000000}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #14171c; -webkit-text-stroke: #14171c}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #2d3741; -webkit-text-stroke: #2d3741}
    p.p14 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #91000f; -webkit-text-stroke: #91000f}
    p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #2f1710; -webkit-text-stroke: #2f1710}
    p.p16 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #5d005b; -webkit-text-stroke: #5d005b}
    p.p17 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #0f2e68; -webkit-text-stroke: #0f2e68}
    p.p18 {margin: 0.0px 0.0px 12.0px 0.0px; text-align: center; font: 16.0px Times; color: #000000; -webkit-text-stroke: #000000}
    p.p19 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #2d3741; -webkit-text-stroke: #2d3741}
    p.p20 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    p.p21 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #91000f; -webkit-text-stroke: #91000f}
    p.p22 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Times; color: #340073; -webkit-text-stroke: #340073}
    p.p23 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #340073; -webkit-text-stroke: #340073}
    p.p24 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #101f20; -webkit-text-stroke: #101f20}
    p.p25 {margin: 0.0px 0.0px 12.0px 0.0px; font: 16.0px Times; color: #19383d; -webkit-text-stroke: #19383d}
    span.s1 {font-kerning: none}
    span.s2 {font-kerning: none; color: #140d0c; -webkit-text-stroke: 0px #140d0c}
    span.s3 {font-kerning: none; color: #0c0f33; -webkit-text-stroke: 0px #0c0f33}
    span.s4 {font-kerning: none; color: #000000; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #2a002b; -webkit-text-stroke: 0px #2a002b}
    span.s6 {font: 12.0px Menlo; font-kerning: none}
    span.s7 {font-kerning: none; color: #080072; -webkit-text-stroke: 0px #080072}
    span.s8 {font-kerning: none; color: #0c1010; -webkit-text-stroke: 0px #0c1010}
    span.s9 {font: 16.0px Times; font-kerning: none; color: #2a002b; -webkit-text-stroke: 0px #2a002b}
    span.s10 {font: 16.0px Times; font-kerning: none; color: #000000; -webkit-text-stroke: 0px #000000}
    span.s11 {font: 16.0px Times; font-kerning: none; color: #080072; -webkit-text-stroke: 0px #080072}
    span.s12 {font-kerning: none; color: rgba(255, 255, 255, 0.85); -webkit-text-stroke: 0px rgba(255, 255, 255, 0.85)}
    span.s13 {font-kerning: none; color: #15003c; -webkit-text-stroke: 0px #15003c}
    span.s14 {font-kerning: none; -webkit-text-stroke: 0px #000000}
    span.s15 {font-kerning: none; color: #54000c; -webkit-text-stroke: 0px #54000c}
    span.s16 {font-kerning: none; color: #0f181a; -webkit-text-stroke: 0px #0f181a}
    span.s17 {font-kerning: none; color: #2f1710; -webkit-text-stroke: 0px #2f1710}
    span.s18 {font-kerning: none; color: #0b00a8; -webkit-text-stroke: 0px #0b00a8}
    span.s19 {font-kerning: none; color: #0d2141; -webkit-text-stroke: 0px #0d2141}
    span.s20 {font-kerning: none; color: #0f2e68; -webkit-text-stroke: 0px #0f2e68}
    span.s21 {font-kerning: none; color: #5d005b; -webkit-text-stroke: 0px #5d005b}
    span.s22 {font-kerning: none; color: #101f20; -webkit-text-stroke: 0px #101f20}
    span.s23 {font-kerning: none; color: #340073; -webkit-text-stroke: 0px #340073}
    span.s24 {font-kerning: none; color: #2d3741; -webkit-text-stroke: 0px #2d3741}
    span.s25 {font-kerning: none; color: #91000f; -webkit-text-stroke: 0px #91000f}
    span.s26 {font: 12.0px Times; font-kerning: none}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><span class="s1"><br>
</span></p>
<p class="p2"><span class="s1">CONTENUTO DEL FILE “main.c”</span></p>
<p class="p3"><span class="s2">#include </span><span class="s1">"headerPuzzle.h"<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><b>int </b></span><span class="s3">main</span><span class="s4">()<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">{<span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s5"><b>int </b></span><span class="s4">n;<br>
</span><span class="s5"><b>char </b></span><span class="s4">matrixIniziale[</span><span class="s2">MAXRC</span><span class="s4">][</span><span class="s2">MAXRC</span><span class="s4">]; <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s6">//matrice che sarà immessa dall'utente</span></p>
<p class="p5"><span class="s5"><b>int </b></span><span class="s1">righe, colonne, contaMatrix;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s5"><b>int </b></span><span class="s1">genClassifica = </span><span class="s7">0</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s8">MatriceCasuali </span><span class="s4">pool[</span><span class="s2">totaleMatrici</span><span class="s4">]; <span class="Apple-tab-span">	</span></span><span class="s6">//array di matrici</span></p>
<p class="p7"><span class="s9"><b>int </b></span><span class="s10">countR = </span><span class="s11">0</span><span class="s10">, countG = </span><span class="s11">0</span><span class="s10">, countB = </span><span class="s11">0</span><span class="s10">;<span class="Apple-converted-space">  </span></span><span class="s12"><span class="Apple-converted-space">  </span></span><span class="s1">//contatori del numero di tessere utilizzate dall'utente (le tessere usate dall'utente devono essere le stesse che utilizzerà il programma per generare le matrici casuali</span></p>
<p class="p8"><span class="s13">srand</span><span class="s4">((</span><span class="s5"><b>unsigned int</b></span><span class="s4">)</span><span class="s13">time</span><span class="s4">(</span><span class="s7">0</span><span class="s4">)); <span class="Apple-tab-span">	</span></span><span class="s14">// seed per </span><span class="s1">generazione di numeri casuali<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s1"><br>
</span></p>
<p class="p10"><span class="s13">printf</span><span class="s4">(</span><span class="s1">"Inserisci il numero n di tessere, tale che n sia una potenza di 2 e minimo 32,\nin modo che sia possibile avere una matrice quadrata: \n"</span><span class="s4">);</span></p>
<p class="p11"><span class="s13">scanf</span><span class="s1">(</span><span class="s15">"%d"</span><span class="s1">, &amp;n);</span></p>
<p class="p9"><span class="s5"><b>if </b></span><span class="s4">(</span><span class="s16">controlloN</span><span class="s4">(n) == </span><span class="s7">1</span><span class="s4">) </span><span class="s1">//viene richiamata la function controlloN per verificare che il numero di tessere immesso sia possibile<span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s4">{<br>
</span><span class="s13">printf</span><span class="s4">(</span><span class="s1">"Controllo superato, continuo programma.. \n"</span><span class="s4">);<span class="Apple-converted-space"> </span></span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span>righe = </span><span class="s13">sqrt</span><span class="s4">(n); </span><span class="s1"><span class="Apple-converted-space">                      </span>//calcolo righe della matrice quadrata</span></p>
<p class="p12"><span class="s4"><span class="Apple-converted-space">    </span>colonne = </span><span class="s13">sqrt</span><span class="s4">(n); </span><span class="s1"><span class="Apple-converted-space">                    </span>//calcolo colonne della matrice quadrata</span></p>
<p class="p12"><span class="s16"><span class="Apple-converted-space">    </span>inserimentoMatrixC</span><span class="s4">(matrixIniziale, righe, colonne, &amp;countR, &amp;countG, &amp;countB);<span class="Apple-converted-space"> </span></span><span class="s1"> <span class="Apple-converted-space">    </span>//permette l'inserimento manuale della matrice da parte dell'utente</span></p>
<p class="p10"><span class="s13"><span class="Apple-converted-space">    </span>printf</span><span class="s4">(</span><span class="s1">"Tessere utilizzate: \nTessere Rosse:%d \nTessere Gialle:%d \nTessere Blu:%d \n"</span><span class="s4">, countR, countG, countB);</span></p>
<p class="p10"><span class="s13"><span class="Apple-converted-space">    </span>printf</span><span class="s4">(</span><span class="s1">"Hai inserito la seguente matrice:\n"</span><span class="s4">);</span></p>
<p class="p12"><span class="s16"><span class="Apple-converted-space">    </span>visualizzaMatrixC</span><span class="s4">(matrixIniziale, righe, colonne); </span><span class="s1">//visualizza la matrice immessa dall'utente</span></p>
<p class="p12"><span class="s1"><br>
</span></p>
<p class="p9"><span class="s5"><b>for </b></span><span class="s4">(contaMatrix = </span><span class="s7">0</span><span class="s4">; contaMatrix &lt; </span><span class="s2">totaleMatrici</span><span class="s4">; contaMatrix++) </span><span class="s1">//generazione delle matrici casuali e attribuzione di un punteggio a ciascuna<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">{<br>
pool[contaMatrix].</span><span class="s16">punteggiomatrice </span><span class="s1">= </span><span class="s7">0</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s16">inizializzaMatriceCasuali</span><span class="s1">(pool[contaMatrix].</span><span class="s16">pMatrice</span><span class="s1">, righe, colonne, countR, countG, countB);<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s16">matchingMatrix</span><span class="s1">(matrixIniziale, pool[contaMatrix].</span><span class="s16">pMatrice</span><span class="s1">, righe, colonne, &amp;pool[contaMatrix].</span><span class="s16">punteggiomatrice</span><span class="s1">);<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p9"><span class="s4"><br>
</span><span class="s13">qsort</span><span class="s4">(pool, </span><span class="s2">totaleMatrici</span><span class="s4">, </span><span class="s5"><b>sizeof</b></span><span class="s4">(</span><span class="s5"><b>struct </b></span><span class="s8">matricecasuali</span><span class="s4">), </span><span class="s16">compareStruct</span><span class="s4">); </span><span class="s1"><span class="Apple-converted-space">  </span>//ordinamento utilizzato per la struct</span></p>
<p class="p10"><span class="s13">printf</span><span class="s4">(</span><span class="s1">"\n LE 10 MATRICI PIU' SIMILI A QUELLA IMMESSA DALL'UTENTE SONO: \n"</span><span class="s4">);</span></p>
<p class="p9"><span class="s5"><b>for </b></span><span class="s4">(genClassifica = </span><span class="s2">totaleMatrici</span><span class="s4">-</span><span class="s7">1</span><span class="s4">; genClassifica &gt; </span><span class="s2">totaleMatrici</span><span class="s4">-</span><span class="s7">10</span><span class="s4">; genClassifica--) </span><span class="s1">//stampa delle matrici più simili a quella immessa dall'utente tra le matrici generate casualmente dal programma</span></p>
<p class="p5"><span class="s1">{<br>
</span><span class="s16">visualizzaMatrixC</span><span class="s1">(pool[genClassifica].</span><span class="s16">pMatrice</span><span class="s1">, righe, colonne);</span></p>
<p class="p11"><span class="s13"><span class="Apple-converted-space">    </span>printf</span><span class="s1">(</span><span class="s15">"Con punteggio di %d \n"</span><span class="s1">,</span><span class="s15"> </span><span class="s1">pool[genClassifica].</span><span class="s16">punteggiomatrice</span><span class="s1">); </span><span class="s13">printf</span><span class="s1">(</span><span class="s15">"\n"</span><span class="s1">);<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s5"><b>else </b></span><span class="s1">//errore in caso il controllo sul numero di tessere non andasse a buon fine</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">    </span>{</span></p>
<p class="p10"><span class="s13"><span class="Apple-converted-space">        </span>printf</span><span class="s4">(</span><span class="s1">"n inserito non e' potenza di 2 maggiore di 32 OPPURE non permetterebbe di generare una matrice quadrata!"</span><span class="s4">);</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p4"><span class="s1"><b>return </b></span><span class="s7">0</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p2"><span class="s1">CONTENUTO DEL FILE “headerPuzzle.h”</span></p>
<p class="p2"><span class="s1"><br>
</span></p>
<p class="p13"><span class="s1">//Librerie utilizzate</span></p>
<p class="p14"><span class="s17">#include </span><span class="s1">&lt;stdio.h&gt; </span><span class="s17">#include </span><span class="s1">&lt;stdlib.h&gt; </span><span class="s17">#include </span><span class="s1">&lt;math.h&gt; </span><span class="s17">#include </span><span class="s1">&lt;time.h&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1">//Macro utilizzate</span></p>
<p class="p13"><span class="s17">#define MAXRC </span><span class="s18">17<span class="Apple-tab-span">	</span></span><span class="s1">//massimo numero di righe o colonne delle matrici</span></p>
<p class="p13"><span class="s17">#define totaleMatrici </span><span class="s18">1000<span class="Apple-tab-span">	</span></span><span class="s1">//numero di matrici da generare</span></p>
<p class="p15"><span class="s1"><br>
</span></p>
<p class="p13"><span class="s1">//Struct definite</span></p>
<p class="p16"><span class="s1"><b>struct </b></span><span class="s19">matricecasuali </span><span class="s4">{<br>
</span><span class="s1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>char </b></span><span class="s20">pMatrice</span><span class="s4">[</span><span class="s18">17</span><span class="s4">][</span><span class="s18">17</span><span class="s4">];<span class="Apple-converted-space"> </span></span></p>
<p class="p17"><span class="s21"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>int </b></span><span class="s1">punteggiomatrice</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1"><br>
</span></p>
<p class="p5"><span class="s21"><b>typedef struct </b></span><span class="s22">matricecasuali </span><span class="s1">MatriceCasuali;<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1">//Prototipi delle functions</span></p>
<p class="p5"><span class="s21"><b>int </b></span><span class="s20">controlloN</span><span class="s1">(</span><span class="s21"><b>int </b></span><span class="s1">n);<br>
</span><span class="s21"><b>void </b></span><span class="s20">inserimentoMatrixC</span><span class="s1">(</span><span class="s21"><b>char </b></span><span class="s1">matrixIniziale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>int</b></span><span class="s1">, </span><span class="s21"><b>int</b></span><span class="s1">, </span><span class="s21"><b>int </b></span><span class="s1">*, </span><span class="s21"><b>int </b></span><span class="s1">*, </span><span class="s21"><b>int </b></span><span class="s1">*);<br>
</span><span class="s21"><b>void </b></span><span class="s20">visualizzaMatrixC</span><span class="s1">(</span><span class="s21"><b>char </b></span><span class="s1">matrixIniziale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>int</b></span><span class="s1">, </span><span class="s21"><b>int</b></span><span class="s1">);<br>
</span><span class="s21"><b>void </b></span><span class="s20">inizializzaMatriceCasuali</span><span class="s1">(</span><span class="s21"><b>char </b></span><span class="s1">matrixCasuale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>int</b></span><span class="s1">, </span><span class="s21"><b>int </b></span><span class="s1">, </span><span class="s21"><b>int </b></span><span class="s1">, </span><span class="s21"><b>int</b></span><span class="s1">, </span><span class="s21"><b>int </b></span><span class="s1">);<br>
</span><span class="s21"><b>void </b></span><span class="s20">matchingMatrix</span><span class="s1">(</span><span class="s21"><b>char </b></span><span class="s1">matrixIniziale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>char </b></span><span class="s1">matrixCasuale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>int</b></span><span class="s1">, </span><span class="s21"><b>int </b></span><span class="s1">, </span><span class="s21"><b>int </b></span><span class="s1">*);<br>
</span><span class="s21"><b>int </b></span><span class="s20">compareStruct</span><span class="s1">(</span><span class="s21"><b>const void </b></span><span class="s1">*s1, </span><span class="s21"><b>const void </b></span><span class="s1">*s2);<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p18"><span class="s1">CONTENUTO DEL FILE “functionsPuzzle.c”</span></p>
<p class="p19"><span class="s1">//Implementazioni delle functions (prototipi nel file "headerPuzzle.h")<span class="Apple-converted-space"> </span></span></p>
<p class="p14"><span class="s17">#include </span><span class="s1">"headerPuzzle.h"<span class="Apple-converted-space"> </span></span></p>
<p class="p20"><span class="s1"><br>
</span></p>
<p class="p19"><span class="s21"><b>int </b></span><span class="s20">controlloN</span><span class="s4">(</span><span class="s21"><b>int </b></span><span class="s4">n) </span><span class="s1">//funzione che permette di verificare se il numero di tessere inserito e' potenza di 2, se e' maggiore di 32 e se e' possibile creare con esse una matrice quadrata<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">{<br>
</span><span class="s21"><b>double </b></span><span class="s1">restoLog;<span class="Apple-converted-space"> </span></span></p>
<p class="p16"><span class="s1"><b>double </b></span><span class="s4">log2;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>double </b></span><span class="s1">restoSqrt;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">log2 = </span><span class="s23">log</span><span class="s1">(n) / </span><span class="s23">log</span><span class="s1">(</span><span class="s18">2.0</span><span class="s1">);<br>
restoLog = log2 - (</span><span class="s21"><b>int</b></span><span class="s1">)log2;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">restoSqrt = </span><span class="s23">sqrt</span><span class="s1">(n) - (</span><span class="s21"><b>int</b></span><span class="s1">)</span><span class="s23">sqrt</span><span class="s1">(n);<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>if </b></span><span class="s1">(restoLog == </span><span class="s18">0 </span><span class="s1">&amp;&amp; restoSqrt == </span><span class="s18">0 </span><span class="s1">&amp;&amp; </span><span class="s23">sqrt</span><span class="s1">(n) &lt; </span><span class="s18">1000</span><span class="s1">) </span><span class="s24">//aggiungere &amp;&amp; n &gt; 32<span class="Apple-converted-space"> </span></span></p>
<p class="p16"><span class="s1"><b>return </b></span><span class="s18">1</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p16"><span class="s1"><b>else<span class="Apple-converted-space"> </span></b></span></p>
<p class="p16"><span class="s1"><b>return </b></span><span class="s18">0</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p20"><span class="s1"><br>
</span></p>
<p class="p5"><span class="s21"><b>void </b></span><span class="s20">inserimentoMatrixC</span><span class="s1">(</span><span class="s21"><b>char </b></span><span class="s1">matrixIniziale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>int </b></span><span class="s1">righe, </span><span class="s21"><b>int </b></span><span class="s1">colonne, </span><span class="s21"><b>int </b></span><span class="s1">*countR, </span><span class="s21"><b>int </b></span><span class="s1">*countG, </span><span class="s21"><b>int </b></span><span class="s1">*countB) </span><span class="s24">//permette all'utente di inserire manualmente la matrice</span></p>
<p class="p5"><span class="s1">{<br>
</span><span class="s21"><b>int </b></span><span class="s1">i, j;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>for </b></span><span class="s1">(i=</span><span class="s18">0</span><span class="s1">; i&lt;righe; i++) {<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>for </b></span><span class="s1">(j=</span><span class="s18">0</span><span class="s1">; j&lt;colonne; j++) {<span class="Apple-converted-space"> </span></span></p>
<p class="p21"><span class="s23"><span class="Apple-converted-space">            </span>printf</span><span class="s4">(</span><span class="s1">"Inserimento elemento (%d,%d):"</span><span class="s4">, i, j);</span></p>
<p class="p22"><span class="s1"><span class="Apple-converted-space">            </span>fflush</span><span class="s4">(</span><span class="s17">stdin</span><span class="s4">);</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">            </span>matrixIniziale[i][j] = </span><span class="s23">getchar</span><span class="s1">();</span></p>
<p class="p5"><span class="s21"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if </b></span><span class="s1">(matrixIniziale[i][j] != </span><span class="s18">'R' </span><span class="s1">&amp;&amp; matrixIniziale[i][j] != </span><span class="s18">'G' </span><span class="s1">&amp;&amp; matrixIniziale[i][j] != </span><span class="s18">'B'</span><span class="s1">)<span class="Apple-converted-space"> </span></span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">            <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>{</span></p>
<p class="p21"><span class="s23"><span class="Apple-converted-space">                </span>printf</span><span class="s4">(</span><span class="s1">"E' possibile inserire solo R, G o B!\n"</span><span class="s4">);</span></p>
<p class="p22"><span class="s1"><span class="Apple-converted-space">                </span>exit</span><span class="s4">(</span><span class="s18">0</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>if </b></span><span class="s1">(matrixIniziale[i][j] == </span><span class="s18">'R'</span><span class="s1">) *countR = *countR + </span><span class="s18">1</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>if </b></span><span class="s1">(matrixIniziale[i][j] == </span><span class="s18">'G'</span><span class="s1">) *countG = *countG + </span><span class="s18">1</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>if </b></span><span class="s1">(matrixIniziale[i][j] == </span><span class="s18">'B'</span><span class="s1">) *countB = *countB + </span><span class="s18">1</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p20"><span class="s1"><br>
</span></p>
<p class="p19"><span class="s21"><b>void </b></span><span class="s20">visualizzaMatrixC</span><span class="s4">(</span><span class="s21"><b>char </b></span><span class="s4">matrixIniziale[][</span><span class="s17">MAXRC</span><span class="s4">], </span><span class="s21"><b>int </b></span><span class="s4">righe, </span><span class="s21"><b>int </b></span><span class="s4">colonne) </span><span class="s1">//visualizza eventuali matrici passate in input<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">{<br>
</span><span class="s21"><b>int </b></span><span class="s1">i, j = </span><span class="s18">0</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>for </b></span><span class="s1">(i=</span><span class="s18">0</span><span class="s1">; i&lt;righe; i++)<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">{<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b><span class="Apple-tab-span">	</span>for </b></span><span class="s1">(j=</span><span class="s18">0</span><span class="s1">; j&lt;colonne; j++)<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{<span class="Apple-converted-space"> </span></span></p>
<p class="p23"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>printf</span><span class="s4">(</span><span class="s25">" "</span><span class="s4">);<span class="Apple-converted-space"> </span></span></p>
<p class="p11"><span class="s23"><span class="Apple-converted-space">           <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>putchar</span><span class="s1">(matrixIniziale[i][j]);</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">        <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>}</span></p>
<p class="p22"><span class="s1"><span class="Apple-converted-space">     </span>printf</span><span class="s4">(</span><span class="s25">"\n"</span><span class="s4">);</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p20"><span class="s1"><br>
</span></p>
<p class="p5"><span class="s21"><b>void </b></span><span class="s20">inizializzaMatriceCasuali</span><span class="s1">(</span><span class="s21"><b>char </b></span><span class="s1">matrixCasuale[][</span><span class="s17">MAXRC</span><span class="s1">], </span><span class="s21"><b>int </b></span><span class="s1">righe, </span><span class="s21"><b>int </b></span><span class="s1">colonne, </span><span class="s21"><b>int </b></span><span class="s1">countR, </span><span class="s21"><b>int </b></span><span class="s1">countG, </span><span class="s21"><b>int </b></span><span class="s1">countB) </span><span class="s24">//inizializza ogni matrice casuale<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">{<br>
</span><span class="s21"><b>int </b></span><span class="s1">ci, cj;<span class="Apple-converted-space"> </span></span></p>
<p class="p19"><span class="s21"><b>int </b></span><span class="s4">randNumber;<br>
</span><span class="s21"><b>int </b></span><span class="s4">j = </span><span class="s18">0</span><span class="s4">, k = </span><span class="s18">0</span><span class="s4">, h = </span><span class="s18">0</span><span class="s4">; </span><span class="s1">//contatori: j per le tessere rosse usate, k per quelle gialle usate e h per quelle blu usate</span></p>
<p class="p5"><span class="s21"><b>for </b></span><span class="s1">(ci=</span><span class="s18">0</span><span class="s1">; ci&lt;righe; ci++) {<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b>for </b></span><span class="s1">(cj=</span><span class="s18">0</span><span class="s1">; cj&lt;colonne; cj++) {<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s4"><span class="Apple-tab-span">	</span>randNumber = </span><span class="s23">rand</span><span class="s4">() %</span><span class="s18">3</span><span class="s4">;</span><span class="s1"> //genera un valore casuale</span></p>
<p class="p13"><span class="s4"><span class="Apple-tab-span">	</span>matrixCasuale[ci][cj] = </span><span class="s18">'J'</span><span class="s4">;<span class="Apple-converted-space"> </span></span><span class="s1"> //attribuisce un valore improprio a matrice[ci][cj], da utilizzare per l'if finale</span></p>
<p class="p19"><span class="s21"><b><span class="Apple-tab-span">	</span>if </b></span><span class="s4">(randNumber == </span><span class="s18">0 </span><span class="s4">&amp;&amp; j &lt; countR) </span><span class="s1">//se il valore casuale e' 0 e non si sono finite le tessere rosse, allora si assegna alla posizione una tessera rossa</span></p>
<p class="p11"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{</span></p>
<p class="p13"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>matrixCasuale[ci][cj] = </span><span class="s18">'R'</span><span class="s4">; <span class="Apple-tab-span">	</span></span><span class="s1">//incremento il contatore delle tessere rosse usate</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>  </span>j++;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}<span class="Apple-converted-space"> </span></span></p>
<p class="p19"><span class="s21"><b><span class="Apple-tab-span">	</span>if </b></span><span class="s4">(randNumber == </span><span class="s18">1 </span><span class="s4">&amp;&amp; k &lt; countG) </span><span class="s1">//se il valore casuale e' 1 e non si sono finite le tessere gialle, allora si assegna alla posizione una tessera gialla</span></p>
<p class="p11"><span class="s1"><span class="Apple-tab-span">	</span>{</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>matrixCasuale[ci][cj] = </span><span class="s18">'G'</span><span class="s1">;</span></p>
<p class="p13"><span class="s4"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>k++;<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s1">//incremento il contatore delle tessere gialle usate</span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span>}<span class="Apple-converted-space"> </span></span></p>
<p class="p19"><span class="s21"><b><span class="Apple-tab-span">	</span>if </b></span><span class="s4">(randNumber == </span><span class="s18">2 </span><span class="s4">&amp;&amp; h &lt; countB) </span><span class="s1">//se il valore casuale e' 2 e non si sono finite le tessere blu, allora si assegna alla posizione una tessera blu</span></p>
<p class="p11"><span class="s1"><span class="Apple-tab-span">	</span>{</span></p>
<p class="p11"><span class="s1"><span class="Apple-converted-space">  <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>matrixCasuale[ci][cj] = </span><span class="s18">'B'</span><span class="s1">;</span></p>
<p class="p13"><span class="s4"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>h++; <span class="Apple-tab-span">	</span></span><span class="s1">//incremento il contatore delle tessere blu</span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span>}<span class="Apple-converted-space"> </span></span></p>
<p class="p13"><span class="s1"><br>
</span></p>
<p class="p19"><span class="s21"><b><span class="Apple-tab-span">	</span>if </b></span><span class="s4">(matrixCasuale[ci][cj] == </span><span class="s18">'J'</span><span class="s4">)<span class="Apple-converted-space">  </span></span><span class="s1">//se non è stato possibile assegnare a matrice[ci][cj] alcun valore, ci si riprova ripartendo con la generazione di un valore casuale</span></p>
<p class="p5"><span class="s26"><span class="Apple-tab-span">	</span></span><span class="s1">cj--;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p20"><span class="s1"><br>
</span></p>
<p class="p19"><span class="s21"><b>void </b></span><span class="s20">matchingMatrix</span><span class="s4">(</span><span class="s21"><b>char </b></span><span class="s4">matrixIniziale[][</span><span class="s17">MAXRC</span><span class="s4">], </span><span class="s21"><b>char </b></span><span class="s4">matrixCasuale[][</span><span class="s17">MAXRC</span><span class="s4">], </span><span class="s21"><b>int </b></span><span class="s4">righe, </span><span class="s21"><b>int </b></span><span class="s4">colonne, </span><span class="s21"><b>int </b></span><span class="s4">*punteggio) </span><span class="s1">//semplice algoritmo di matching tra una matrice ed un’altra. Permette di calcolarne il punteggio matchi</span></p>
<p class="p5"><span class="s1">{<br>
</span><span class="s21"><b>int </b></span><span class="s1">cR, cC;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">*punteggio = </span><span class="s18">0</span><span class="s1">;<br>
</span><span class="s21"><b>for </b></span><span class="s1">(cR = </span><span class="s18">0</span><span class="s1">; cR &lt; righe; cR++)<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span>{<br>
</span><span class="s21"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>for </b></span><span class="s1">(cC = </span><span class="s18">0</span><span class="s1">; cC &lt; colonne; cC++) {<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s21"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if </b></span><span class="s1">(matrixIniziale[cR][cC] == matrixCasuale[cR][cC])<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>*punteggio = *punteggio+</span><span class="s18">1</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p5"><span class="s1"><br>
</span></p>
<p class="p19"><span class="s4"><br>
</span><span class="s21"><b>int </b></span><span class="s20">compareStruct</span><span class="s4">(</span><span class="s21"><b>const void </b></span><span class="s4">*s1, </span><span class="s21"><b>const void </b></span><span class="s4">*s2) </span><span class="s1">//function utilizzata per implementare qSort</span></p>
<p class="p24"><span class="s4">{<br>
</span><span class="s21"><b><span class="Apple-tab-span">	</span>struct </b></span><span class="s1">matricecasuali </span><span class="s4">*e1 = (</span><span class="s21"><b>struct </b></span><span class="s1">matricecasuali </span><span class="s4">*)s1;</span></p>
<p class="p24"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s21"><b>struct </b></span><span class="s1">matricecasuali </span><span class="s4">*e2 = (</span><span class="s21"><b>struct </b></span><span class="s1">matricecasuali </span><span class="s4">*)s2;<span class="Apple-converted-space"> </span></span></p>
<p class="p25"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s21"><b>return </b></span><span class="s4">e1-&gt;</span><span class="s1">punteggiomatrice </span><span class="s4">- e2-&gt;</span><span class="s1">punteggiomatrice</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1">}<span class="Apple-converted-space"> </span></span></p>
<p class="p20"><span class="s1"><br>
</span></p>
<p class="p4"><span class="s1"><br>
</span></p>
</body>
</html>
